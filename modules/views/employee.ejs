<%- include("partials/header") %>
<%- include("partials/sidebar") %>

<h1 class="title">Employee Profiles</h1>

<div class="employee-grid">

<% employees.forEach(emp => { 

const tax = emp.basicSalary * 0.12;
const net = emp.basicSalary - tax;

%>

<div class="employee-card">

    <div class="avatar">
        <%= emp.name.charAt(0).toUpperCase() %>
    </div>

    <h2><%= emp.name %></h2>

    <p class="dept"><%= emp.department %></p>

    <div class="salary-box">

        <span>Basic: ₹ <%= emp.basicSalary %></span>
        <span class="tax">Tax: ₹ <%= tax.toFixed(0) %></span>
        <span class="net">Net: ₹ <%= net.toFixed(0) %></span>

    </div>

    <div class="card-buttons">
        <a href="/edit/<%= emp.id %>" class="btn-edit">Edit</a>

        <a href="/delete/<%= emp.id %>"
        class="btn-delete"
        onclick="return confirm('Delete employee?')">
        Delete
        </a>
    </div>

</div>

<% }) %>

</div>

<%- include("partials/footer") %>
